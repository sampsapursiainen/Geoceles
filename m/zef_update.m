%Copyright Â© 2018, Sampsa Pursiainen
zef.h = evalin('base','zef.h_edit3'); set(zef.h,'string',num2str(zef.s_x_correction));
zef.h = evalin('base','zef.h_edit6'); set(zef.h,'string',num2str(zef.s_y_correction));
zef.h = evalin('base','zef.h_edit7'); set(zef.h,'string',num2str(zef.s_z_correction));
zef.h = evalin('base','zef.h_edit12'); set(zef.h,'string',num2str(zef.s_xy_rotation));
zef.h = evalin('base','zef.h_edit13'); set(zef.h,'string',num2str(zef.s_yz_rotation));
zef.h = evalin('base','zef.h_edit14'); set(zef.h,'string',num2str(zef.s_zx_rotation));

zef.h = evalin('base','zef.h_edit123'); set(zef.h,'string',num2str(zef.d1_x_correction));
zef.h = evalin('base','zef.h_edit124'); set(zef.h,'string',num2str(zef.d1_y_correction));
zef.h = evalin('base','zef.h_edit125'); set(zef.h,'string',num2str(zef.d1_z_correction));
zef.h = evalin('base','zef.h_edit126'); set(zef.h,'string',num2str(zef.d1_xy_rotation));
zef.h = evalin('base','zef.h_edit127'); set(zef.h,'string',num2str(zef.d1_yz_rotation));
zef.h = evalin('base','zef.h_edit128'); set(zef.h,'string',num2str(zef.d1_zx_rotation));

zef.h = evalin('base','zef.h_edit223'); set(zef.h,'string',num2str(zef.d2_x_correction));
zef.h = evalin('base','zef.h_edit224'); set(zef.h,'string',num2str(zef.d2_y_correction));
zef.h = evalin('base','zef.h_edit225'); set(zef.h,'string',num2str(zef.d2_z_correction));
zef.h = evalin('base','zef.h_edit226'); set(zef.h,'string',num2str(zef.d2_xy_rotation));
zef.h = evalin('base','zef.h_edit227'); set(zef.h,'string',num2str(zef.d2_yz_rotation));
zef.h = evalin('base','zef.h_edit228'); set(zef.h,'string',num2str(zef.d2_zx_rotation));

zef.h = evalin('base','zef.h_edit323'); set(zef.h,'string',num2str(zef.d3_x_correction));
zef.h = evalin('base','zef.h_edit324'); set(zef.h,'string',num2str(zef.d3_y_correction));
zef.h = evalin('base','zef.h_edit325'); set(zef.h,'string',num2str(zef.d3_z_correction));
zef.h = evalin('base','zef.h_edit326'); set(zef.h,'string',num2str(zef.d3_xy_rotation));
zef.h = evalin('base','zef.h_edit327'); set(zef.h,'string',num2str(zef.d3_yz_rotation));
zef.h = evalin('base','zef.h_edit328'); set(zef.h,'string',num2str(zef.d3_zx_rotation));

zef.h = evalin('base','zef.h_edit423'); set(zef.h,'string',num2str(zef.d4_x_correction));
zef.h = evalin('base','zef.h_edit424'); set(zef.h,'string',num2str(zef.d4_y_correction));
zef.h = evalin('base','zef.h_edit425'); set(zef.h,'string',num2str(zef.d4_z_correction));
zef.h = evalin('base','zef.h_edit426'); set(zef.h,'string',num2str(zef.d4_xy_rotation));
zef.h = evalin('base','zef.h_edit427'); set(zef.h,'string',num2str(zef.d4_yz_rotation));
zef.h = evalin('base','zef.h_edit428'); set(zef.h,'string',num2str(zef.d4_zx_rotation));

zef.h = evalin('base','zef.h_edit23'); set(zef.h,'string',num2str(zef.w_x_correction));
zef.h = evalin('base','zef.h_edit24'); set(zef.h,'string',num2str(zef.w_y_correction));
zef.h = evalin('base','zef.h_edit25'); set(zef.h,'string',num2str(zef.w_z_correction));
zef.h = evalin('base','zef.h_edit26'); set(zef.h,'string',num2str(zef.w_xy_rotation));
zef.h = evalin('base','zef.h_edit27'); set(zef.h,'string',num2str(zef.w_yz_rotation));
zef.h = evalin('base','zef.h_edit28'); set(zef.h,'string',num2str(zef.w_zx_rotation));

zef.h = evalin('base','zef.h_edit30'); set(zef.h,'string',num2str(zef.g_x_correction));
zef.h = evalin('base','zef.h_edit31'); set(zef.h,'string',num2str(zef.g_y_correction));
zef.h = evalin('base','zef.h_edit32'); set(zef.h,'string',num2str(zef.g_z_correction));
zef.h = evalin('base','zef.h_edit33'); set(zef.h,'string',num2str(zef.g_xy_rotation));
zef.h = evalin('base','zef.h_edit34'); set(zef.h,'string',num2str(zef.g_yz_rotation));
zef.h = evalin('base','zef.h_edit35'); set(zef.h,'string',num2str(zef.g_zx_rotation));

zef.h = evalin('base','zef.h_edit44'); set(zef.h,'string',num2str(zef.c_x_correction));
zef.h = evalin('base','zef.h_edit45'); set(zef.h,'string',num2str(zef.c_y_correction));
zef.h = evalin('base','zef.h_edit46'); set(zef.h,'string',num2str(zef.c_z_correction));
zef.h = evalin('base','zef.h_edit47'); set(zef.h,'string',num2str(zef.c_xy_rotation));
zef.h = evalin('base','zef.h_edit48'); set(zef.h,'string',num2str(zef.c_yz_rotation));
zef.h = evalin('base','zef.h_edit49'); set(zef.h,'string',num2str(zef.c_zx_rotation));

zef.h = evalin('base','zef.h_edit51'); set(zef.h,'string',num2str(zef.sk_x_correction));
zef.h = evalin('base','zef.h_edit52'); set(zef.h,'string',num2str(zef.sk_y_correction));
zef.h = evalin('base','zef.h_edit53'); set(zef.h,'string',num2str(zef.sk_z_correction));
zef.h = evalin('base','zef.h_edit54'); set(zef.h,'string',num2str(zef.sk_xy_rotation));
zef.h = evalin('base','zef.h_edit55'); set(zef.h,'string',num2str(zef.sk_yz_rotation));
zef.h = evalin('base','zef.h_edit56'); set(zef.h,'string',num2str(zef.sk_zx_rotation));

zef.h = evalin('base','zef.h_edit58'); set(zef.h,'string',num2str(zef.sc_x_correction));
zef.h = evalin('base','zef.h_edit59'); set(zef.h,'string',num2str(zef.sc_y_correction));
zef.h = evalin('base','zef.h_edit60'); set(zef.h,'string',num2str(zef.sc_z_correction));
zef.h = evalin('base','zef.h_edit61'); set(zef.h,'string',num2str(zef.sc_xy_rotation));
zef.h = evalin('base','zef.h_edit62'); set(zef.h,'string',num2str(zef.sc_yz_rotation));
zef.h = evalin('base','zef.h_edit63'); set(zef.h,'string',num2str(zef.sc_zx_rotation));

zef.h = evalin('base','zef.h_edit9001'); set(zef.h,'string',num2str(zef.w_priority));
zef.h = evalin('base','zef.h_edit9002'); set(zef.h,'string',num2str(zef.g_priority));
zef.h = evalin('base','zef.h_edit9003'); set(zef.h,'string',num2str(zef.c_priority));
zef.h = evalin('base','zef.h_edit9004'); set(zef.h,'string',num2str(zef.sk_priority));
zef.h = evalin('base','zef.h_edit9005'); set(zef.h,'string',num2str(zef.sc_priority));
zef.h = evalin('base','zef.h_edit9006'); set(zef.h,'string',num2str(zef.d1_priority));
zef.h = evalin('base','zef.h_edit9007'); set(zef.h,'string',num2str(zef.d2_priority));
zef.h = evalin('base','zef.h_edit9008'); set(zef.h,'string',num2str(zef.d3_priority));
zef.h = evalin('base','zef.h_edit9009'); set(zef.h,'string',num2str(zef.d4_priority));

zef.h = evalin('base','zef.h_checkbox_cp_on'); set(zef.h,'value',zef.cp_on);
zef.h = evalin('base','zef.h_edit_cp_a'); set(zef.h,'string',num2str(zef.cp_a));
zef.h = evalin('base','zef.h_edit_cp_b'); set(zef.h,'string',num2str(zef.cp_b));
zef.h = evalin('base','zef.h_edit_cp_c'); set(zef.h,'string',num2str(zef.cp_c));
zef.h = evalin('base','zef.h_edit_cp_d'); set(zef.h,'string',num2str(zef.cp_d));

zef.h = evalin('base','zef.h_edit15'); set(zef.h,'string',num2str(zef.s_scaling));

zef.h = evalin('base','zef.h_edit129'); set(zef.h,'string',num2str(zef.d1_scaling));
zef.h = evalin('base','zef.h_edit170'); set(zef.h,'string',num2str(zef.d1_sigma));

zef.h = evalin('base','zef.h_edit229'); set(zef.h,'string',num2str(zef.d2_scaling));
zef.h = evalin('base','zef.h_edit270'); set(zef.h,'string',num2str(zef.d2_sigma));

zef.h = evalin('base','zef.h_edit329'); set(zef.h,'string',num2str(zef.d3_scaling));
zef.h = evalin('base','zef.h_edit370'); set(zef.h,'string',num2str(zef.d3_sigma));

zef.h = evalin('base','zef.h_edit429'); set(zef.h,'string',num2str(zef.d4_scaling));
zef.h = evalin('base','zef.h_edit470'); set(zef.h,'string',num2str(zef.d4_sigma));

zef.h = evalin('base','zef.h_edit29'); set(zef.h,'string',num2str(zef.w_scaling));
zef.h = evalin('base','zef.h_edit70'); set(zef.h,'string',num2str(zef.w_sigma));

zef.h = evalin('base','zef.h_edit36'); set(zef.h,'string',num2str(zef.g_scaling));
zef.h = evalin('base','zef.h_edit71'); set(zef.h,'string',num2str(zef.g_sigma));

zef.h = evalin('base','zef.h_edit50'); set(zef.h,'string',num2str(zef.c_scaling));
zef.h = evalin('base','zef.h_edit72'); set(zef.h,'string',num2str(zef.c_sigma));

zef.h = evalin('base','zef.h_edit57'); set(zef.h,'string',num2str(zef.sk_scaling));
zef.h = evalin('base','zef.h_edit73'); set(zef.h,'string',num2str(zef.sk_sigma));

zef.h = evalin('base','zef.h_edit64'); set(zef.h,'string',num2str(zef.sc_scaling));
zef.h = evalin('base','zef.h_edit74'); set(zef.h,'string',num2str(zef.sc_sigma));

zef.h = evalin('base','zef.h_checkbox13'); set(zef.h,'value',(zef.s_visible));

zef.h = evalin('base','zef.h_checkbox101'); set(zef.h,'value',(zef.d1_on));
zef.h = evalin('base','zef.h_checkbox107'); set(zef.h,'value',(zef.d1_visible));

zef.h = evalin('base','zef.h_checkbox201'); set(zef.h,'value',(zef.d2_on));
zef.h = evalin('base','zef.h_checkbox207'); set(zef.h,'value',(zef.d2_visible));

zef.h = evalin('base','zef.h_checkbox301'); set(zef.h,'value',(zef.d3_on));
zef.h = evalin('base','zef.h_checkbox307'); set(zef.h,'value',(zef.d3_visible));

zef.h = evalin('base','zef.h_checkbox401'); set(zef.h,'value',(zef.d4_on));
zef.h = evalin('base','zef.h_checkbox407'); set(zef.h,'value',(zef.d4_visible));

zef.h = evalin('base','zef.h_checkbox1'); set(zef.h,'value',(zef.w_on));
zef.h = evalin('base','zef.h_checkbox7'); set(zef.h,'value',(zef.w_visible));

zef.h = evalin('base','zef.h_checkbox2'); set(zef.h,'value',(zef.g_on));
zef.h = evalin('base','zef.h_checkbox8'); set(zef.h,'value',(zef.g_visible));

zef.h = evalin('base','zef.h_checkbox3'); set(zef.h,'value',(zef.c_on));
zef.h = evalin('base','zef.h_checkbox9'); set(zef.h,'value',(zef.c_visible));

zef.h = evalin('base','zef.h_checkbox4'); set(zef.h,'value',(zef.sk_on));
zef.h = evalin('base','zef.h_checkbox10'); set(zef.h,'value',(zef.sk_visible));

zef.h = evalin('base','zef.h_checkbox5'); set(zef.h,'value',(zef.sc_on));
zef.h = evalin('base','zef.h_checkbox11'); set(zef.h,'value',(zef.sc_visible));

zef.h = evalin('base','zef.h_checkbox14'); set(zef.h,'value',(zef.attach_electrodes));

zef.h = evalin('base','zef.h_checkbox15'); set(zef.h,'value',(zef.axes_visible));

zef.h = evalin('base','zef.h_checkbox_mesh_smoothing_on'); set(zef.h,'value',(zef.mesh_smoothing_on));

zef.h = evalin('base','zef.h_source_interpolation_on'); set(zef.h,'value',(zef.source_interpolation_on));

zef.h = evalin('base','zef.h_wm_sources'); set(zef.h,'value',(zef.wm_sources));

zef.h = evalin('base','zef.h_refinement_on'); set(zef.h,'value',(zef.refinement_on));

zef.h = evalin('base','zef.h_smoothing_strength'); set(zef.h,'string',num2str(zef.smoothing_strength));

zef.h = evalin('base','zef.h_edit80'); set(zef.h,'string',num2str(zef.azimuth));

zef.h = evalin('base','zef.h_edit81'); set(zef.h,'string',num2str(zef.elevation));

zef.h = evalin('base','zef.h_popupmenu2'); set(zef.h,'value',(zef.source_direction_mode));

zef.h = evalin('base','zef.h_popupmenu1'); set(zef.h,'value',(zef.imaging_method));

zef.h = evalin('base','zef.h_edit76'); set(zef.h,'string',num2str(zef.solver_tolerance));

zef.h = evalin('base','zef.h_edit65'); set(zef.h,'string',num2str(zef.mesh_resolution));

zef.h = evalin('base','zef.h_edit75'); set(zef.h,'string',num2str(zef.n_sources));

zef.h = evalin('base','zef.h_popupmenu6'); set(zef.h,'value',(zef.location_unit));

zef.h = evalin('base','zef.h_visualization_type'); set(zef.h,'value',(zef.visualization_type));

zef.h = evalin('base','zef.h_edit82'); set(zef.h,'string',num2str(zef.cam_va));

zef.h = evalin('base','zef.h_edit_meshing_accuracy'); set(zef.h,'string',num2str(zef.meshing_accuracy));

if evalin('base','zef.prism_layers');
    if isfield(zef,'prisms')
        zef.size_prisms = size(zef.prisms,1);
    else
        zef.size_prisms = 0;
    end
zef.h = evalin('base','zef.h_text_elements'); set(zef.h,'string',num2str(size(zef.tetra,1)+zef.size_prisms));
else
zef.h = evalin('base','zef.h_text_elements'); set(zef.h,'string',num2str(size(zef.tetra,1)));    
end
zef.h = evalin('base','zef.h_text_nodes'); set(zef.h,'string',num2str(size(zef.nodes,1)));

if evalin('base','zef.on_screen') == 0
    set(zef.h_text_image,'string',[]);
end
if evalin('base','zef.on_screen') == 1
    set(zef.h_text_image,'string','volume');
end
if evalin('base','zef.on_screen') == 2
    set(zef.h_text_image,'string','surfaces');
end

if zef.clear_axes1
cla(zef.h_axes1);
zef.h_colorbar = findobj(evalin('base','zef.h_geoceles'),'tag','Colorbar');
if not(isempty(zef.h_colorbar))
colorbar(zef.h_colorbar,'delete'); 
end
else
zef.clear_axes1 = 1;  
end

color_label('checkbox101','checkbox107','text1196');
color_label('checkbox201','checkbox207','text2196');
color_label('checkbox301','checkbox307','text3196');
color_label('checkbox401','checkbox407','text4196');
color_label('checkbox1','checkbox7','text196');
color_label('checkbox2','checkbox8','text197');
color_label('checkbox3','checkbox9','text198');
color_label('checkbox4','checkbox10','text199');
color_label('checkbox5','checkbox11','text200');
switch_color('checkbox16','pushbutton16','s_points');
if zef.imaging_method==2
switch_color('checkbox17','pushbutton17','s_directions');
end
switch_color('checkbox1','pushbutton1','w_points');
switch_color('checkbox1','pushbutton2','w_triangles');
switch_color('checkbox101','pushbutton101','d1_points');
switch_color('checkbox101','pushbutton102','d1_triangles');
switch_color('checkbox201','pushbutton201','d2_points');
switch_color('checkbox201','pushbutton202','d2_triangles');
switch_color('checkbox301','pushbutton301','d3_points');
switch_color('checkbox301','pushbutton302','d3_triangles');
switch_color('checkbox401','pushbutton401','d4_points');
switch_color('checkbox401','pushbutton402','d4_triangles');
switch_color('checkbox2','pushbutton3','g_points');
switch_color('checkbox2','pushbutton4','g_triangles');
switch_color('checkbox3','pushbutton5','c_points');
switch_color('checkbox3','pushbutton6','c_triangles');
switch_color('checkbox4','pushbutton7','sk_points');
switch_color('checkbox4','pushbutton8','sk_triangles');
switch_color('checkbox5','pushbutton9','sc_points');
switch_color('checkbox5','pushbutton10','sc_triangles');


switch_onoff;

